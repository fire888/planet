!function(){"use strict";var e={uniforms:{red:{value:0},green:{value:.021},blue:{value:.04},tDiffuse:{value:null},light:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#ifdef GL_ES","precision mediump float;","#endif","uniform float red;","uniform float green;","uniform float blue;","uniform sampler2D tDiffuse;","uniform float light;","varying vec2 vUv;","float point (in vec2 uv, in vec2 center, in float radius) {","float len = length(center - uv);","return float(1. - smoothstep(radius, radius + .4, len));","}","void main() {","vec2 uv = vUv;","vec4 diff = texture2D(tDiffuse, uv);","vec2 tileuv = vec2(uv.x, uv.y*0.8) * 100.;","float radius = .03;","vec2 center = floor( tileuv ) + vec2( 0.5, 0.5 );","float point = point( tileuv, center, radius );","vec4 points = vec4( red + light, green + light, blue + light,  (1.01 - diff.y) * point );","vec4 contur = vec4( red + light, green + light, blue + light,  diff.x );","vec4 continents = vec4( red, green, blue, (1.5 - diff.y) * (1.0 - points.z) * 0.01 );","gl_FragColor = contur + continents + points;","}"].join("\n")},t=function(e){n.uniforms.tDiffuse.value=e},n={uniforms:{tDiffuse:{type:"t",value:null},light:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["varying vec2 vUv;","uniform sampler2D tDiffuse;","uniform float light;","void main() {","vec2 uv = vUv;","vec4 txt = texture2D(tDiffuse, uv);","gl_FragColor = vec4( txt.xyz * vec3( 1.5, 1.9, 2.6) * light, txt.x*2.0);","}"].join("\n")},i={uniforms:{color:{value:new THREE.Vector3(1,1,1)},dark:{value:0},time:{value:1.1}},vertexShader:["uniform float dark;","varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float dark;","uniform vec3 color;","uniform float time;","varying vec2 vUv;","void main() {","vec2 st = vUv.xy;","float translate = fract(time*0.13);","st.y -= translate*5.1980;","float line = float(sin(st.y/0.0915));","gl_FragColor = vec4( 0.3 - dark*2.0, 0.6 + line*0.2 - dark*2.0, 1.1 + line*0.4 - dark*2.0, 1.0 );","}"].join("\n")},o={uniforms:{iGlobalTime:{type:"f",value:1},iResolution:{type:"v2",value:new THREE.Vector2(window.innerWidth,window.innerHeight)},tDiffuse:{value:null},circleSize:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["varying vec2 vUv;","uniform float iGlobalTime;","uniform vec2 iResolution;","uniform sampler2D tDiffuse;","uniform float circleSize;","float field(in vec3 p,float s) {","float strength = 7. + .03 * log(1.e-6 + fract(sin(iGlobalTime) * 4373.11));","float accum = s/4.;","float prev = 0.;","float tw = 0.;","for (int i = 0; i < 26; ++i) {","float mag = dot(p, p);","p = abs(p) / mag + vec3(-.5, -.4, -1.5);","float w = exp(-float(i) / 7.);","accum += w * exp(-strength * pow(abs(mag - prev), 2.2));","tw += w;","prev = mag;","}","return max(0., 5. * accum / tw - .7);","}","float field2(in vec3 p, float s) {","float strength = 5. + .03 * log(1.e-6 + fract(sin(iGlobalTime) * 4373.11));","float accum = s/4.;","float prev = 0.;","float tw = 0.;","for (int i = 0; i < 18; ++i) {","float mag = dot(p, p);","p = abs(p) / mag + vec3(-.5, -.4, -1.5);","float w = exp(-float(i) / 7.);","accum += w * exp(-strength * pow(abs(mag - prev), 2.2));","tw += w;","prev = mag;","}","return max(0., 5. * accum / tw - .7);","}","vec3 nrand3( vec2 co ) {","vec3 a = fract( cos( co.x*8.3e-3 + co.y )*vec3(1.3e5, 4.7e5, 2.9e5) );","vec3 b = fract( sin( co.x*0.3e-3 + co.y )*vec3(8.1e5, 1.0e5, 0.1e5) );","vec3 c = mix(a, b, 0.5);","return c;","}","float circle(in vec2 _st, in float _radius) {","vec2 dist = _st-vec2(0.5 * clamp(iResolution.x/iResolution.y, 0.0, 1.0), 0.5 * clamp( iResolution.y/iResolution.x, 0.0, 1.0 ) );","return 1.-smoothstep(_radius,","_radius+( _radius * max( 0.6 - _radius, 0.01 ) ),","dot(dist,dist)*4.0);","}","void mainImage( out vec4 fragColor1, in vec2 fragCoord ) {","vec2 uv =  vUv * iResolution.xy / max(iResolution.x, iResolution.y);","vec2 uvs = vUv * iResolution.xy / max(iResolution.x, iResolution.y);","vec3 p = vec3(uvs / 4., 0) + vec3(1., -1.3, 0.);","p += .2 * vec3(0.04*iGlobalTime, 0.1,  0.1);","float freqs[4];","freqs[0]=0.2;","freqs[1]=0.5;","freqs[2]=0.1;","freqs[3]=0.7;","float t = field(p,freqs[2]);","float v = (1. - exp((abs(uv.x) - 1.) * 6.)) * (1. - exp((abs(uv.y) - 1.) * 6.));","vec3 p2 = vec3(uvs / (4.+sin(iGlobalTime*0.11)*0.2+0.2+sin(iGlobalTime*0.15)*0.3+0.4), 1.5) + vec3(2., -1.3, -1.);","p2 += 0.25 * vec3(0.06*iGlobalTime, 0.2,  0.2);","float t2 = field2(p2,freqs[3]);","vec4 c2 = mix(.4, 1., v) * vec4(1.3 * t2 * t2 * t2 ,1.8  * t2 * t2 , t2* freqs[0], t2);","vec2 seed = p.xy * 2.0;","seed = floor(seed * iResolution.x);","vec3 rnd = nrand3( seed );","vec4 starcolor = vec4(pow(rnd.y,40.0));","vec2 seed2 = p2.xy * 2.0;","seed2 = floor(seed2 * iResolution.x);","vec3 rnd2 = nrand3( seed2 );","starcolor += vec4(pow(rnd2.y,40.0));","vec4 fragColor = mix(freqs[3]-.3, 1., v) * vec4(1.5*freqs[2] * t * t* t , 1.2*freqs[1] * t * t, freqs[3]*t, 1.0)+c2+starcolor;","float mask = clamp( ","circle( vec2(uv.x - circleSize*0.16 - 0.16, uv.y ), circleSize ) +","circle( vec2(uv.x + circleSize*0.16 + 0.16, uv.y ), circleSize ), 0.0, 1.0 ",");","vec4 spaceWithMask = vec4( fragColor.xyz * ( 20.0 - clamp( circleSize * 50.0, 0.0, 19.4 ) ), 1.0 );","spaceWithMask = vec4( spaceWithMask * ( mask ) );","vec4 scene = texture2D( tDiffuse, uv );","vec4 sceneWithMask = vec4( scene * ( 1.0 - mask ) );","fragColor1 = spaceWithMask + sceneWithMask;","}","void main(void) {","mainImage(gl_FragColor,gl_FragCoord.xy);","}"].join("\n")},r={earthRed:0,earthGreen:.04,earthBlue:.08,glowRed:0,glowGreen:.19,glowBlue:.22,glowLight:0,glowBorder:2.9,wireColor:"#ffae23",wireDiodRed:.9,wireDiodGreen:.9,wireDiodBlue:.9,earthLeftMax:-2,earthRightMax:.45,earthAxell:85e-5,earthMaxSpd:.017,earthSpdFree:.015},a="DARK",s=function(){"FLASH"==a&&J()&&pe()&&(a="LIGHT"),O(a),de(a),we()},c=function(){return a="FLASH"},l="NONE",u=function(){"NONE"==l&&P(w)&&(f(),l="DELAYbeforeCIRCLES"),"CIRCLES"==l&&(A(),I()&&(l="FREESPACE")),"FREESPACE"==l&&(d(),l="TEXT"),we()},f=function(){setTimeout(function(){l="CIRCLES"},500)},d=function(){},v=function(e){return d=e},m=void 0,h=void 0,p={textures:{glow:null,continents:null},geoms:{corpus:null,diod:null,globe:null}},g=function(e){m=new THREE.TextureLoader,h=new THREE.OBJLoader,new Promise(function(e){p.textures.continents=m.load("assets/contour.jpg",function(){e()})}).then(function(){new Promise(function(e){p.textures.glow=m.load("assets/glow.png",function(){e()})})}).then(function(){return new Promise(function(e){h.load("assets/connector.obj",function(t){t.traverse(function(t){t instanceof THREE.Mesh==1&&("diod"==t.name&&(p.geoms.diod=t.geometry),"iron"==t.name&&(p.geoms.corpus=t.geometry),p.geoms.diod&&p.geoms.corpus&&e())})})})}).then(function(){return new Promise(function(e){h.load("assets/globe.obj",function(t){t.traverse(function(t){t instanceof THREE.Mesh==1&&(p.geoms.globe=t.geometry,e())})})})}).then(function(){m=null,h=null,e()})},x=void 0,w=void 0,M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{canvas:"none..",w:window.innerWidth,h:window.innerHeight},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{canvas:"none..",w:window.innerWidth,h:window.innerHeight};x=e.canvas,w=t.canvas,_(),D(e),k(t),xe(),F(),oe(),C(e,t)},y=void 0,E=void 0,R=void 0,H=void 0,T=void 0,b=void 0,S=void 0,L=void 0,_=function(){var e=new THREE.PointLight(252791645,.3);e.position.set(500,500,600);var t=new THREE.AmbientLight(9046131,.2);y=new THREE.Scene,y.add(e,t)},D=function(e){R=new THREE.WebGLRenderer({canvas:e.canvas}),E=new THREE.PerspectiveCamera(20,e.w/e.h,3.5,25e3),E.position.set(0,0,7200)},k=function(e){L=Date.now(),T=new THREE.WebGLRenderer({canvas:e.canvas}),b=new THREE.EffectComposer(T),H=new THREE.PerspectiveCamera(40,e.w/e.h,3.5,15e3),H.position.set(0,4e3,0),H.rotation.x=-.4,b.addPass(new THREE.RenderPass(y,H)),S=new THREE.ShaderPass(o),b.addPass(S),S.renderToScreen=!0},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{w:window.innerWidth,h:window.innerHeight},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{w:window.innerWidth,h:window.innerWidth};e.h/e.w-.5<1?(E.position.x=800*(e.h/e.w-.5)-800,E.position.z=7200,j.position.x=65):(E.position.x=0,E.position.z=1e4,j.position.x=0),R.setSize(e.w,e.h),E.aspect=e.w/e.h,E.updateProjectionMatrix(),T&&T.setSize(t.w,t.h),H&&(H.aspect=t.w/t.h*t.h/t.w,H.updateProjectionMatrix()),S&&(S.uniforms.iResolution.value=new THREE.Vector2(t.w,t.h));var n=T.getDrawingBufferSize();b&&b.setSize(n.width,n.height)},G=function(){return z()},z=function e(){if(B(x)&&(s(),R.render(y,E)),B(w)){u();var t=Date.now();S.uniforms.iGlobalTime.value=2e-4*(t-L),b.render()}requestAnimationFrame(e)},B=function(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom<0||t.top-n>=0)},P=function(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom<0||t.top+.5*(t.bottom-t.top)-n>=0)},W=.001,A=function(){S.uniforms.circleSize.value<.071?W*=1.01:S.uniforms.circleSize.value>.07&&S.uniforms.circleSize.value<.08?W=2e-4:W*=1.0305,S.uniforms.circleSize.value+=W},I=function(){return S.uniforms.circleSize.value>2.2},Y=void 0,U=void 0,j=void 0,F=function(){j=V(),j.position.set(65,0,-610),U=q(),Y=new THREE.Group,Y.rotation.z=-.3,Y.rotation.x=.5,U.rotation.y=.7,y.add(Y.add(U),j),j.lookAt(E.position)},q=function(){var t=new THREE.Mesh(p.geoms.globe,new THREE.ShaderMaterial(e));return t.material.transparent=!0,t.material.side=THREE.DoubleSide,t.material.depthWrite=!1,t.material.needsUpdate=!0,t.material.uniforms.tDiffuse.value=p.textures.continents,t},V=function(){var e=new THREE.PlaneGeometry(1900,1900);t(p.textures.glow);var i=new THREE.ShaderMaterial(n);return i.transparent=!0,new THREE.Mesh(e,i)},Z=.002,N="left",K=new THREE.Clock,O=function(e){Y&&("DARK"==e&&X(),"FLASH"==e&&Q(),U.rotation.y+=Z)},X=function(){U.rotation.y>r.earthLeftMax&&"left"==N&&(N="right"),U.rotation.y<r.earthRightMax&&"right"==N&&(N="left"),"left"==N&&Math.abs(Z+r.earthAxell)<r.earthMaxSpd&&(Z+=r.earthAxell),"right"==N&&Math.abs(Z-r.earthAxell)<r.earthMaxSpd&&(Z-=r.earthAxell)},Q=function(){Z<r.earthSpdFree?Z+=3e-4:Z=r.earthSpdFree,U.material.uniforms.light.value<1.35&&(U.material.uniforms.light.value+=.012),n.uniforms.light.value<1.5&&(n.uniforms.light.value+=.12)},J=function(){return Z==r.earthSpdFree},$=[],ee=[{length:-3e3,dirY:6,dirZ:.7},{length:-4500,dirY:.2,dirZ:1.8},{length:-3500,dirY:3.24,dirZ:.8},{length:-4500,dirY:1.5,dirZ:.8},{length:-5e3,dirY:1.9,dirZ:1.8},{length:-5500,dirY:3.7,dirZ:2}],te=void 0,ne=void 0,ie=void 0,oe=function(){ne=re(),ie=ae(),te=new THREE.Group,ee.forEach(function(e){var t=se(),n=ce(e.length);t.plug.add(n);var i=new THREE.Group;i.add(t.plug),i.position.set(Math.sin(e.dirZ)*Math.sin(e.dirY)*890,890*Math.cos(e.dirZ),Math.sin(e.dirZ)*Math.cos(e.dirY)*890),i.lookAt(0,0,0),$.push({connector:i,plug:t.plug,corpus:t.corpus,diod:t.diod,wire:n,length:e.length}),te.add(i)}),U.add(te)},re=function(){return new THREE.MeshPhongMaterial({color:789017,emissive:0,specular:16777215,shininess:20})},ae=function(){return new THREE.ShaderMaterial(i)},se=function(){var e=new THREE.Mesh(p.geoms.corpus,ne),t=new THREE.Mesh(p.geoms.diod,ie),n=new THREE.Group;return n.add(t,e),{plug:n,corpus:e,diod:t}},ce=function(e){var t=new THREE.QuadraticBezierCurve3(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,-1e3),new THREE.Vector3(0,0,e)),n=new THREE.TubeBufferGeometry(t,10,25,8,!1);return new THREE.Mesh(n,ne)},le=function(){if(0!=$.length){for(var e=0;e<$.length;e++){$[e].plug.remove($[e].corpus),$[e].plug.remove($[e].diod),te.remove($[e].plug),te.remove($[e].wire);$[e];$.splice(e,1),e--,null}y.remove(te),$=[]}},ue=.005,fe="DARK",de=function(e){0!=$.length&&("DARK"==e&&ve(),"FLASH"==e&&("DARK"==fe&&(me(),fe="FLASH"),he()))},ve=function(){var e=K.getDelta();ie.uniforms.time.value+=e,$.forEach(function(e){e.plug&&e.wire&&(-3e3==e.length?e.wire.geometry.parameters.path.v2.y=-4e3*Math.sin(U.rotation.y-.4):e.wire.geometry.parameters.path.v2.x=5e3*Math.sin(U.rotation.y-.4),e.wire.geometry.parameters.path.v2.x=5e3*Math.sin(U.rotation.y-.4),e.wire.geometry.dispose(),e.wire.geometry=new THREE.TubeBufferGeometry(e.wire.geometry.parameters.path,30,25,8,!1),e.wire.geometry.needsUpdate=!0)})},me=function(){U.getWorldQuaternion(te.quaternion),U.remove(te),y.add(te)},he=function(){ie.uniforms.dark.value+=.01,ue+=.6,$.forEach(function(e){e.plug.position.z-=ue})},pe=function(){return 0==$.length||(!$[0].plug||$[0].plug.position.z<-15e3&&(le(),!0))},ge=[],xe=function(){var e=new THREE.Group;y.add(e),e.rotation.x=-1,e.position.set(0,0,-9e3);for(var t=new THREE.MeshPhongMaterial({color:2024890,emissive:0,specular:12632256,shininess:100}),n=new THREE.CubeGeometry(1e3,1e3,1e3),i=0;i<20;i++)for(var o=0;o<20;o++){var r=new THREE.Mesh(n,t);e.add(r),r.position.set(1e3*o-1e4,1e3*i-5e3,0),r.rotation.x=o/5+i/5,ge.push(r)}},we=function(){return ge.forEach(function(e){return e.rotation.x+=.01})},Me={"canvas-dr01":{canvas:null,ctx:null,sprites_types:[{type:"LinesVert",count:5},{type:"LinesHor",count:2}],sprites:[],imgs:{back:{src:"assets/ill_01_back.png",data:null}}},"canvas-dr02":{canvas:null,ctx:null,sprites_types:[{type:"LeftYellowSlow",count:70},{type:"RightWhite",count:10}],sprites:[],imgs:{back:{src:"assets/ill_02_back.png",data:null}}},"canvas-dr03":{canvas:null,ctx:null,sprites_types:[{type:"LeftYellow",count:70},{type:"RightYellow",count:70}],sprites:[],imgs:{back:{src:"assets/ill_03_back.png",data:null}}},"canvas-dr04":{canvas:null,ctx:null,sprites:[],sprites_types:[{type:"LeftYellow",count:50},{type:"LeftMagenta",count:50},{type:"LeftGreen",count:50},{type:"RightYellow",count:50},{type:"RightMagenta",count:50},{type:"RightGreen",count:50}],imgs:{back:{src:"assets/ill_04_back.png",data:null},wire:{src:"assets/ill_04_wire.png",data:null,x:0,y:0,x2:500,y2:400}}},"canvas-dr05":{canvas:null,ctx:null,sprites:[],sprites_types:[{type:"LeftSuperTop",count:70},{type:"LeftSuperBottom",count:50},{type:"RightSuperTop",count:50},{type:"RightSuperBottom",count:50}],imgs:{back:{src:"assets/ill_05_back.png",data:null}}}},ye={LeftYellowSlow:{conus:1,spd:.6,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:80,yMax:300},form:"rect",color:"#ff0"},RightWhite:{conus:1,spd:.6,start:{xMin:310,xMax:320,yMin:185,yMax:187},finish:{xMin:500,xMax:510,yMin:110,yMax:230},form:"circle",color:"#fff"},LeftYellow:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:150,yMax:205},form:"rect",color:"#ff0"},LeftMagenta:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:130,yMax:235},form:"rect",color:"#f0f"},LeftGreen:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:130,yMax:235},form:"rect",color:"#0f0"},RightYellow:{conus:1,spd:1,start:{xMin:320,xMax:330,yMin:150,yMax:205},finish:{xMin:500,xMax:510,yMin:80,yMax:300},form:"rect",color:"#ff0"},RightMagenta:{conus:1,spd:1,start:{xMin:320,xMax:330,yMin:130,yMax:235},finish:{xMin:500,xMax:510,yMin:80,yMax:300},form:"rect",color:"#f0f"},RightGreen:{conus:1,spd:1,start:{xMin:320,xMax:330,yMin:130,yMax:235},finish:{xMin:500,xMax:510,yMin:80,yMax:300},form:"rect",color:"#0f0"},RightSuperTop:{conus:1,spd:1,start:{xMin:325,xMax:330,yMin:120,yMax:170},finish:{xMin:500,xMax:510,yMin:80,yMax:150},form:"rect",color:"#0ff"},RightSuperBottom:{conus:1,spd:1,start:{xMin:325,xMax:330,yMin:240,yMax:270},finish:{xMin:500,xMax:510,yMin:220,yMax:310},form:"rect",color:"#0ff"},LeftSuperTop:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:150},finish:{xMin:140,xMax:160,yMin:120,yMax:170},form:"rect",color:"#0ff"},LeftSuperBottom:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:220,yMax:310},finish:{xMin:140,xMax:160,yMin:240,yMax:270},form:"rect",color:"#0ff"},LinesVert:{conus:0,spd:.2,start:{xMin:-200,xMax:-30,yMin:0,yMax:0},finish:{xMin:600,xMax:600,yMin:0,yMax:0},color:null,img:"lineVert-img"},LinesHor:{conus:0,spd:.1,start:{xMin:0,xMax:0,yMin:800,yMax:900},finish:{xMin:0,xMax:0,yMin:-40,yMax:-60},color:null,img:"lineHor-img"}},Ee={"lineHor-img":{src:"assets/sprite_line_hor.png",data:null},"lineVert-img":{src:"assets/sprite_line_vert.png",data:null}},Re=[],He=0,Te=function(e){be(function(){Le(Me),Ge(),e()})},be=function(e){for(var t in Me)for(var n in Me[t].imgs)Re.push(Se(Me[t].imgs[n]));for(var i in Ee)Re.push(Se(Ee[i]));Re.push(e),Re[0]()},Se=function(e){return function(){e.data=new Image,e.data.src=e.src,e.data.onload=function(){return Re[He++]()}}},Le=function(e){for(var t in e)e[t].canvas=document.getElementById(t),e[t].ctx=e[t].canvas.getContext("2d"),_e(e[t])},_e=function(e){e.sprites_types.forEach(function(t){e.sprites.push(De(t.type,t.count))})},De=function(e,t){for(var n=[],i=0;i<t;i++){var o={};ke(o,e);for(var r=0;r<150;r++)o.x+=o.spdX,o.y+=o.spdY,o.x>ye[e].finish.xMin&&ke(o,e);n.push(o)}return n},ke=function(e,t){var n=ye[t],i=30*Math.random()+30;e.type=t,e.x=Math.random()*(n.start.xMax-n.start.xMin)+n.start.xMin,e.y=Math.random()*(n.start.yMax-n.start.yMin)+n.start.yMin,e.spdX=(n.finish.xMin-e.x)/i*n.spd,e.spdY=(n.finish.yMin-e.y+Math.random()*(n.finish.yMax-n.finish.yMin)*n.conus)/i*n.spd},Ce=void 0,Ge=function(){return Ce=setInterval(ze,30)},ze=function(){for(var e in Me)Be(Me[e].canvas)&&Pe(Me[e])},Be=function(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom<0||t.top-n>=0)},Pe=function(e){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.ctx.globalCompositeOperation="source-over",e.ctx.drawImage(e.imgs.back.data,0,0,e.canvas.width,e.canvas.height),We(e),e.imgs.wire&&e.ctx.drawImage(e.imgs.wire.data,e.imgs.wire.x,e.imgs.wire.y,e.imgs.wire.x2,e.imgs.wire.y2),e.ctx.globalCompositeOperation="destination-in",e.ctx.drawImage(e.imgs.back.data,0,0,e.canvas.width,e.canvas.height)},We=function(e){for(var t=0;t<e.sprites.length;t++)for(var n=0;n<e.sprites[t].length;n++)Ae(e.ctx,e.sprites[t][n])},Ae=function(e,t){var n=ye[t.type];return t.x>n.finish.xMin&&ke(t,t.type),"LinesHor"==t.type&&t.y<n.finish.yMin&&ke(t,t.type),t.x+=t.spdX,t.y+=t.spdY,n.img?void e.drawImage(Ee[n.img].data,t.x,t.y):"rect"==n.form?(e.fillStyle=ye[t.type].color,void e.fillRect(t.x,t.y,7,7)):"circle"==n.form?(e.fillStyle=ye[t.type].color,e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),void e.fill()):void 0},Ie=(new Date).getTime();window.onload=function(){Oe(),Te(function(){g(function(){M({canvas:document.getElementById("webgl"),w:window.innerWidth,h:window.innerHeight},{canvas:document.getElementById("webgl-bottom"),w:window.innerWidth,h:window.innerHeight}),Ye()})})};var Ye=function(){var e=(new Date).getTime()-Ie;e<1500?setTimeout(Ue,1500-e):Ue()},Ue=function(){G(),Je(document.getElementById("webgl")),$e(document.getElementById("preloader")),setTimeout(function(){Ve(c)},1e3),v(Qe),Fe(C)},je=void 0,Fe=function(e){je=e,window.addEventListener("resize",function(){je({w:window.innerWidth,h:window.innerHeight},{w:window.innerWidth,h:window.innerHeight}),Xe()},!1)},qe=void 0,Ve=function(e){qe=e,document.addEventListener("wheel",Ne,!1),document.addEventListener("scroll",Ne,!1),document.addEventListener("touchstart",Ne,!1),setTimeout(function(){document.body.style.position="static",document.body.style.overflowY="auto"},3500)},Ze=function(){document.removeEventListener("wheel",Ne,!1),document.removeEventListener("scroll",Ne,!1),document.removeEventListener("touchstart",Ne,!1)},Ne=function(){qe(),Ze(),setTimeout(function(){document.getElementById("slogan").className="show"},500)},Ke=void 0,Oe=function(){Ke=document.getElementById("icons"),Xe()},Xe=function(){Ke&&(window.innerWidth/window.innerHeight<1.3?(Ke.style.width=.9*window.innerWidth+"px",Ke.style.height="auto"):(Ke.style.height=.9*window.innerHeight+"px",Ke.style.width="auto"))},Qe=function(){var e=document.getElementById("bottom-scheme");e.className="show",e.style.display="flex"},Je=function(e){return e.className="show"},$e=function(e){e.className="hide"}}();
