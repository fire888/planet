!function(){"use strict";var e=void 0,n={sceneBack:null,waterNormals:null},t=function(t){e=new THREE.TextureLoader,new Promise(function(t){n.sceneBack=e.load("assets/background_map.jpg",function(){t()})}).then(function(){return new Promise(function(t){n.waterNormals=e.load("assets/Voda_normali.jpg",function(){n.waterNormals.wrapS=n.waterNormals.wrapT=THREE.RepeatWrapping,n.waterNormals.repeat.set(5,5),t()})})}).then(function(){e=null,t()})},i=void 0,o=void 0,a=void 0,r=function(){i=new THREE.Scene,i.background=n.sceneBack,o=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,3.5,15e3),o.position.set(-800,0,1800);var e=new THREE.PointLight(16777215,2);e.position.set(-400,1e3,1600),i.add(e);var t=new THREE.AmbientLight(16777215,.5);i.add(t),a=new THREE.WebGLRenderer({alpha:!0,canvas:document.getElementById("webGL")}),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight)},d=function e(){v(),a.render(i,o),requestAnimationFrame(e)},s=function(){window.addEventListener("resize",w,!1)},w=function(){a.setSize(window.innerWidth,window.innerHeight),o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix()},c=function(){document.getElementById("webGL").className="show"},l=function(){document.getElementById("preloader").className="hide"},u=function(){window.addEventListener("wheel",m,!1)},m=function e(){H(),document.getElementById("preloader").className="hidden";var n=document.getElementById("slogan");setTimeout(function(){n.className="show"},500),window.removeEventListener("wheel",e,!1)},E=void 0,f=function(){E=new THREE.Group,E.add(h()),i.add(E)},h=function(){return new THREE.Mesh(new THREE.SphereGeometry(600,30,30),new THREE.MeshPhongMaterial({map:n.waterNormals,normalMap:n.waterNormals,shininess:0,transparent:!0,opacity:.94,color:2042436}))},p=.002,g="left",v=function(){E&&(p>.005&&"left"==g&&(g="right"),p<-.005&&"right"==g&&(g="left"),"left"==g&&(p+=1e-4),"right"==g&&(p-=1e-4),"normal"==g&&p<.02&&(p+=1e-4),E.rotation.y+=p,E.rotation.z+=.2*p)},H=function(){g="normal"};window.onload=function(){t(function(){r(),s(),f(),d(),c(),l(),u()})}}();
