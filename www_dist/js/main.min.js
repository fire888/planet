!function(){"use strict";var e=void 0,n=void 0,t=void 0,i=void 0,o=void 0,a={sceneBack:null,waterNormals:null},r=function(n){e=new THREE.TextureLoader,new Promise(function(n){a.sceneBack=e.load("assets/background_map.jpg",function(){n()})}).then(function(){return new Promise(function(n){a.waterNormals=e.load("assets/Voda_normali.jpg",function(){a.waterNormals.wrapS=a.waterNormals.wrapT=THREE.RepeatWrapping,a.waterNormals.repeat.set(5,5),n()})})}).then(function(){n()})},d=function(){n=new THREE.Scene,n.background=a.sceneBack,t=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,3.5,15e3),t.position.set(-800,0,1800);var e=new THREE.PointLight(16777215,2);e.position.set(-400,1e3,1600),n.add(e);var o=new THREE.AmbientLight(16777215,.5);n.add(o),i=new THREE.WebGLRenderer({alpha:!0,canvas:document.getElementById("webGL")}),i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight)},s=function e(){v(),i.render(n,t),requestAnimationFrame(e)},w=function(){i.setSize(window.innerWidth,window.innerHeight),t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix()},c=function(){window.addEventListener("resize",w,!1)},l=function(){document.getElementById("webGL").className="show"},u=function(){document.getElementById("preloader").className="hide"},m=function(){window.addEventListener("wheel",E,!1)},E=function e(){g="normal",document.getElementById("preloader").className="hidden";var n=document.getElementById("slogan");setTimeout(function(){n.className="show"},500),window.removeEventListener("wheel",e,!1)},h=function(){o=new THREE.Group,o.add(f()),n.add(o)},f=function(){return new THREE.Mesh(new THREE.SphereGeometry(600,30,30),new THREE.MeshPhongMaterial({map:a.waterNormals,normalMap:a.waterNormals,shininess:0,transparent:!0,opacity:.94,color:2042436}))},p=.002,g="left",v=function(){o&&(p>.005&&"left"==g&&(g="right"),p<-.005&&"right"==g&&(g="left"),"left"==g&&(p+=1e-4),"right"==g&&(p-=1e-4),"normal"==g&&p<.02&&(p+=1e-4),o.rotation.y+=p,o.rotation.z+=.2*p)};window.onload=function(){r(function(){d(),c(),h(),s(),l(),u(),m()})}}();
